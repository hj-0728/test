[Unit]
Description=Edu BinShi School Evaluation Scheduler
After=syslog.target
After=network.target

[Service]
# Modify these two values and uncomment them if you have
# repos with lots of files and get an HTTP error 500 because
# of that
###
#LimitMEMLOCK=infinity
#LimitNOFILE=65535
Type=simple
User=ubuntu
Group=ubuntu
EnvironmentFile=-/data/projects/edu-binshi-school-evaluation/systemd/env.file
WorkingDirectory=/data/projects/edu-binshi-school-evaluation/runtime

ExecStart=/usr/bin/bash -c '${POETRY_PATH}/bin/python ${RUNTIME_PATH}/backend/scheduler_manager.py'
ExecStop=/bin/kill -s TERM  $MAINPID
ExecReload=/bin/kill -s HUP $MAINPID
Restart=always

[Install]
WantedBy=multi-user.target
